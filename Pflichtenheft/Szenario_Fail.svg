<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="962px" preserveAspectRatio="none" style="width:805px;height:962px;" version="1.1" viewBox="0 0 805 962" width="805px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hcgl109n1y2a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="257" x="276.5" y="22.9951">"Messages - Sequence Diagram"</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="116.5938" y2="875.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="73" x2="73" y1="116.5938" y2="875.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="259" x2="259" y1="116.5938" y2="875.6484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="511" x2="511" y1="116.5938" y2="875.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="113.292">Alice</text><ellipse cx="27" cy="43.2969" fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,51.2969 L27,78.2969 M14,59.2969 L40,59.2969 M27,78.2969 L14,93.2969 M27,78.2969 L40,93.2969 " fill="none" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="887.6436">Alice</text><ellipse cx="27" cy="900.9453" fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M27,908.9453 L27,935.9453 M14,916.9453 L40,916.9453 M27,935.9453 L14,950.9453 M27,935.9453 L40,950.9453 " fill="none" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="56" y="113.292">Bob</text><ellipse cx="73" cy="43.2969" fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M73,51.2969 L73,78.2969 M60,59.2969 L86,59.2969 M73,78.2969 L60,93.2969 M73,78.2969 L86,93.2969 " fill="none" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="56" y="887.6436">Bob</text><ellipse cx="73" cy="900.9453" fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M73,908.9453 L73,935.9453 M60,916.9453 L86,916.9453 M73,935.9453 L60,950.9453 M73,935.9453 L86,950.9453 " fill="none" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="228" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="235" y="101.292">Server</text><rect fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="228" y="874.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="235" y="894.6436">Server</text><rect fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="32" x="493" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="500" y="101.292">db</text><rect fill="#FEFECE" filter="url(#f1hcgl109n1y2a)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="32" x="493" y="874.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="500" y="894.6436">db</text><polygon fill="#A80036" points="247,148.7266,257,152.7266,247,156.7266,251,152.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="253" y1="152.7266" y2="152.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="34" y="147.6606">getFittingGroups(params)</text><path d="M264,131.5938 L264,156.5938 L671,156.5938 L671,141.5938 L661,131.5938 L264,131.5938 " fill="#FBFB77" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M661,131.5938 L661,141.5938 L671,141.5938 L661,131.5938 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="270" y="148.6606">Alice fragt alle Gruppen an, die zu ihren Präferenzen passen.</text><polygon fill="#A80036" points="499,182.8594,509,186.8594,499,190.8594,503,186.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="505" y1="186.8594" y2="186.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="266" y="181.7935">getAllGroups()</text><polygon fill="#A80036" points="270,211.9922,260,215.9922,270,219.9922,266,215.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="264" x2="510" y1="215.9922" y2="215.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="276" y="210.9263">allGroups</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="301" y1="245.125" y2="245.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="301" x2="301" y1="245.125" y2="258.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260" x2="301" y1="258.125" y2="258.125"/><polygon fill="#A80036" points="270,254.125,260,258.125,270,262.125,266,258.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="266" y="240.0591">filterGroups(params)</text><polygon fill="#A80036" points="38,283.2578,28,287.2578,38,291.2578,34,287.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="258" y1="287.2578" y2="287.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="44" y="282.1919">fittingGroups</text><polygon fill="#A80036" points="247,317.3906,257,321.3906,247,325.3906,251,321.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="73" x2="253" y1="321.3906" y2="321.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="80" y="316.3247">getFittingGroup(params)</text><path d="M264,300.2578 L264,325.2578 L531,325.2578 L531,310.2578 L521,300.2578 L264,300.2578 " fill="#FBFB77" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M521,300.2578 L521,310.2578 L531,310.2578 L521,300.2578 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="270" y="317.3247">&gt;Bob macht das selbe kurz nach Alice</text><polygon fill="#A80036" points="499,351.5234,509,355.5234,499,359.5234,503,355.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="505" y1="355.5234" y2="355.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="266" y="350.4575">getAllGroups()</text><polygon fill="#A80036" points="270,380.6563,260,384.6563,270,388.6563,266,384.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="264" x2="510" y1="384.6563" y2="384.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="276" y="379.5903">allGroups</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="301" y1="413.7891" y2="413.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="301" x2="301" y1="413.7891" y2="426.7891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260" x2="301" y1="426.7891" y2="426.7891"/><polygon fill="#A80036" points="270,422.7891,260,426.7891,270,430.7891,266,426.7891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="266" y="408.7231">filterGroups(params)</text><polygon fill="#A80036" points="84,451.9219,74,455.9219,84,459.9219,80,455.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="78" x2="258" y1="455.9219" y2="455.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="90" y="450.856">fittingGroups</text><polygon fill="#A80036" points="247,481.0547,257,485.0547,247,489.0547,251,485.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27" x2="253" y1="485.0547" y2="485.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="34" y="479.9888">joinGroup(aliceId, groupId)</text><polygon fill="#A80036" points="499,510.1875,509,514.1875,499,518.1875,503,514.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="505" y1="514.1875" y2="514.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="266" y="509.1216">addPersonToGroup(groupId, aliceId)</text><polygon fill="#A80036" points="270,524.1875,260,528.1875,270,532.1875,266,528.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="264" x2="510" y1="528.1875" y2="528.1875"/><polygon fill="#A80036" points="38,553.3203,28,557.3203,38,561.3203,34,557.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="258" y1="557.3203" y2="557.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="44" y="552.2544">confitmation</text><polygon fill="#A80036" points="247,595.0195,257,599.0195,247,603.0195,251,599.0195" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="73" x2="253" y1="599.0195" y2="599.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="80" y="593.9536">joinGroup(bobId, groupId)</text><path d="M264,570.3203 L264,610.3203 L793,610.3203 L793,580.3203 L783,570.3203 L264,570.3203 " fill="#FBFB77" filter="url(#f1hcgl109n1y2a)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M783,570.3203 L783,580.3203 L793,580.3203 L783,570.3203 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="475" x="270" y="587.3872">Bob versucht der Gruppe beizutretten, aber es sind keine Plätze mehr frei.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="508" x="270" y="602.52">Dadurch entsteht ein Fehler und Bob muss die verfügbaren Gruppen neu laden.</text><polygon fill="#A80036" points="499,636.7188,509,640.7188,499,644.7188,503,640.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="505" y1="640.7188" y2="640.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="266" y="635.6528">addPersonToGroup(groupId, bobId)</text><polygon fill="#A80036" points="270,665.8516,260,669.8516,270,673.8516,266,669.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="264" x2="510" y1="669.8516" y2="669.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="276" y="664.7856">noMoreSeats</text><polygon fill="#A80036" points="84,694.9844,74,698.9844,84,702.9844,80,698.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="78" x2="258" y1="698.9844" y2="698.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="90" y="693.9185">error: group is full</text><polygon fill="#A80036" points="247,724.1172,257,728.1172,247,732.1172,251,728.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="73" x2="253" y1="728.1172" y2="728.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="80" y="723.0513">getFittingGroup(params)</text><polygon fill="#A80036" points="499,753.25,509,757.25,499,761.25,503,757.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="505" y1="757.25" y2="757.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="266" y="752.1841">getAllGroups()</text><polygon fill="#A80036" points="270,782.3828,260,786.3828,270,790.3828,266,786.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="264" x2="510" y1="786.3828" y2="786.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="276" y="781.3169">allGroups</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="259" x2="301" y1="815.5156" y2="815.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="301" x2="301" y1="815.5156" y2="828.5156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260" x2="301" y1="828.5156" y2="828.5156"/><polygon fill="#A80036" points="270,824.5156,260,828.5156,270,832.5156,266,828.5156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="266" y="810.4497">filterGroups()</text><polygon fill="#A80036" points="84,853.6484,74,857.6484,84,861.6484,80,857.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="78" x2="258" y1="857.6484" y2="857.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="90" y="852.5825">fittingGroups</text><!--
@startuml
title "Messages - Sequence Diagram"

actor Alice
actor Bob

Alice -> Server : getFittingGroups(params)

note right
Alice fragt alle Gruppen an, die zu ihren Präferenzen passen.
end note

Server -> db : getAllGroups()
Server <- - db : allGroups
Server -> Server : filterGroups(params)
Alice <- - Server : fittingGroups

Bob -> Server : getFittingGroup(params)

note right
>Bob macht das selbe kurz nach Alice
end note

Server -> db : getAllGroups()
Server <- - db : allGroups
Server -> Server : filterGroups(params)
Bob <- - Server : fittingGroups

Alice -> Server : joinGroup(aliceId, groupId)
Server -> db : addPersonToGroup(groupId, aliceId)
Server <- - db 
Alice <- - Server : confitmation

Bob -> Server : joinGroup(bobId, groupId)

note right
Bob versucht der Gruppe beizutretten, aber es sind keine Plätze mehr frei.
Dadurch entsteht ein Fehler und Bob muss die verfügbaren Gruppen neu laden.
end note

Server -> db : addPersonToGroup(groupId, bobId)
Server <- - db : noMoreSeats
Bob <- - Server : error: group is full

Bob -> Server : getFittingGroup(params)
Server -> db : getAllGroups()
Server <- - db : allGroups
Server -> Server : filterGroups()
Bob <- - Server : fittingGroups


database "Database" as db
@enduml

PlantUML version 1.2019.07beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>