@startuml
actor user

user -> GUI: open App

GUI -> server: String loadMenu()

database db
server -> db: Line[] getCurrentLineInfo()
server <-- db: Line[]

GUI <-- server: return String
user <-- GUI: show menu

user -> GUI: choose line and time
GUI -> server: Group[] getGroupsByPrefferencess(prefferences prefs)
server -> db: Group[] getAllGroups()
server <-- db: return Group[]

alt

GUI <-- server: return Group[]
user <-- GUI: show available groups

user -> GUI: choose one group
GUI -> server: boolean joinGroup(String userId, String groupId)
server -> db: boolean addUserToGroup(string userId, string groupId)

alt 

server <-- db: return true
GUI <-- server: return true
user <-- GUI: show confirmation


else maximum reached

server <-- db: return false
GUI <-- server: return false
user <-- GUI: show participation failure

end
else no group with same parameters

GUI <-- server: return null
user <-- GUI: create group or show homescreen
end
@enduml
