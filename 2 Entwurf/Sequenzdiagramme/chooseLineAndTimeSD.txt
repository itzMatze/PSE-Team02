@startuml
actor user

user -> Client: open App

Client -> server: getMenu()

database db
server -> db: getLine()
server <-- db: return lines

Client <-- server: return menu
user <-- Client: show menu

user -> Client: choose line and time
Client -> server: getGroupsByPrefferencess(prefs)
server -> db: getAllGroups()
server <-- db: return groups
server --> server: filterGroups(prefs)

alt

Client <-- server: return fitting groups
user <-- Client: show available groups

user -> Client: choose one group
Client -> server: joinGroup(userToken, groupToken)
server -> db: addUserToGroup(userToken, groupToken)

alt 

server <-- db: return confirmation
Client <-- server: return confirmation
user <-- Client: show confirmation


else maximum members reached

server <-- db: return error
Client <-- server: return error
user <-- Client: show participation failure

end
else no group with same parameters

Client <-- server: return no groups
user <-- Client: create group or show homescreen
end
@enduml
